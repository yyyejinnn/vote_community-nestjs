model Votes {
    id        Int      @id @default(autoincrement())
    title     String
    user      Users    @relation(fields: [userId], references: [id])
    userId    Int
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    voteChoices  VoteChoices[]
    votedUsers   VotedUsers[]
    VoteLikes    VoteLikes[]
    VoteComments VoteComments[]

    @@map("votes")
}

model VoteChoices {
    id        Int      @id @default(autoincrement())
    title     String
    vote      Votes    @relation(fields: [voteId], references: [id])
    voteId    Int
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    votedUsers VotedUsers[]

    @@map("vote-options")
}

model VotedUsers {
    user         Users       @relation(fields: [userId], references: [id])
    userId       Int
    vote         Votes       @relation(fields: [voteId], references: [id])
    voteId       Int
    voteChoice   VoteChoices @relation(fields: [voteChoiceId], references: [id])
    voteChoiceId Int
    createdAt    DateTime    @default(now())
    updatedAt    DateTime    @updatedAt

    @@id([userId, voteChoiceId])
    @@map("voted-users")
}

model VoteLikes {
    isCliked  Boolean
    vote      Votes    @relation(fields: [voteId], references: [id])
    voteId    Int
    user      Users    @relation(fields: [userId], references: [id])
    userId    Int
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@id([userId, voteId])
    @@map("vote-likes")
}

model VoteComments {
    id               Int                @id @default(autoincrement())
    content          String
    user             Users              @relation(fields: [userId], references: [id])
    userId           Int
    vote             Votes              @relation(fields: [voteId], references: [id])
    voteId           Int
    createdAt        DateTime           @default(now())
    updatedAt        DateTime           @updatedAt
    VoteCommentLikes VoteCommentLikes[]

    @@map("vote-comments")
}

model VoteCommentLikes {
    isCliked      Boolean
    voteComment   VoteComments @relation(fields: [voteCommentId], references: [id])
    voteCommentId Int
    user          Users        @relation(fields: [userId], references: [id])
    userId        Int
    createdAt     DateTime     @default(now())
    updatedAt     DateTime     @updatedAt

    @@id([userId, voteCommentId])
    @@map("vote-comments-likes")
}

model Users {
    id               Int                @id @default(autoincrement())
    votes            Votes[]
    votedUsers       VotedUsers[]
    VoteComments     VoteComments[]
    VoteLikes        VoteLikes[]
    VoteCommentLikes VoteCommentLikes[]

    @@map("users")
}
