model Votes {
    id        Int    @id @default(autoincrement())
    title     String
    pollTotal Int    @default(0)
    user      Users  @relation(fields: [userId], references: [id])
    userId    Int

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    voteOption VoteOptions[]
    votedUsers VotedUsers[]

    @@map("votes")
}

model VoteOptions {
    id    Int    @id @default(autoincrement())
    title String
    poll  Int    @default(0)

    vote   Votes @relation(fields: [voteId], references: [id])
    voteId Int

    createdAt  DateTime     @default(now())
    updatedAt  DateTime     @updatedAt
    votedUsers VotedUsers[]

    @@map("vote-options")
}

model VotedUsers {
    user   Users @relation(fields: [userId], references: [id])
    userId Int

    vote   Votes @relation(fields: [voteId], references: [id])
    voteId Int

    voteOptions   VoteOptions @relation(fields: [voteOptionsId], references: [id])
    voteOptionsId Int

    @@id([userId, voteOptionsId])
    @@map("voted-users")
}

model Users {
    id         Int          @id @default(autoincrement())
    votes      Votes[]
    votedUsers VotedUsers[]

    @@map("users")
}
