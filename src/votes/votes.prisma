model Votes {
    id        Int    @id @default(autoincrement())
    title     String
    pollTotal Int    @default(0)
    user      Users  @relation(fields: [userId], references: [id])
    userId    Int

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    voteChoices VoteChoices[]
    votedUsers  VotedUsers[]

    @@map("votes")
}

model VoteChoices {
    id    Int    @id @default(autoincrement())
    title String
    poll  Int    @default(0)

    vote   Votes @relation(fields: [voteId], references: [id])
    voteId Int

    createdAt  DateTime     @default(now())
    updatedAt  DateTime     @updatedAt
    votedUsers VotedUsers[]

    @@map("vote-options")
}

model VotedUsers {
    user   Users @relation(fields: [userId], references: [id])
    userId Int

    vote   Votes @relation(fields: [voteId], references: [id])
    voteId Int

    voteChoice   VoteChoices @relation(fields: [voteChoiceId], references: [id])
    voteChoiceId Int

    @@id([userId, voteChoiceId])
    @@map("voted-users")
}

model Users {
    id         Int          @id @default(autoincrement())
    votes      Votes[]
    votedUsers VotedUsers[]

    @@map("users")
}
