// *** DO NOT EDIT. GENERATED BY PRISMIX. ***
generator client {
    provider        = "prisma-client-js"
    previewFeatures = ["filteredRelationCount"]
}

datasource db {
    provider = "sqlite"
    url      = env("DATABASE_URL")
}

model Users {
    id               Int                @id @default(autoincrement())
    email            String             @unique
    password         String
    nickname         String
    refreshToken     RefreshTokens?     @relation(name: "RefreshTokensToUsers")
    createdAt        DateTime           @default(now())
    updatedAt        DateTime           @updatedAt
    votes            Votes[]            @relation(name: "UsersToVotes")
    votedUsers       VotedUsers[]       @relation(name: "UsersToVotedUsers")
    VoteComments     VoteComments[]     @relation(name: "UsersToVoteComments")
    VoteLikes        VoteLikes[]        @relation(name: "UsersToVoteLikes")
    VoteCommentLikes VoteCommentLikes[] @relation(name: "UsersToVoteCommentLikes")

    @@map("users")
}

model RefreshTokens {
    token     String   @unique
    user      Users    @relation(name: "RefreshTokensToUsers", fields: [userId], references: [id])
    userId    Int      @unique
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@map("refresh-tokens")
}

model Votes {
    id           Int            @id @default(autoincrement())
    title        String
    user         Users          @relation(name: "UsersToVotes", fields: [userId], references: [id])
    userId       Int
    createdAt    DateTime       @default(now())
    updatedAt    DateTime       @updatedAt
    voteChoices  VoteChoices[]  @relation(name: "VoteChoicesToVotes")
    votedUsers   VotedUsers[]   @relation(name: "VotedUsersToVotes")
    VoteLikes    VoteLikes[]    @relation(name: "VoteLikesToVotes")
    VoteComments VoteComments[] @relation(name: "VoteCommentsToVotes")

    @@map("votes")
}

model VoteChoices {
    id         Int          @id @default(autoincrement())
    title      String
    vote       Votes        @relation(name: "VoteChoicesToVotes", fields: [voteId], references: [id])
    voteId     Int
    createdAt  DateTime     @default(now())
    updatedAt  DateTime     @updatedAt
    votedUsers VotedUsers[] @relation(name: "VoteChoicesToVotedUsers")

    @@map("vote-options")
}

model VotedUsers {
    user         Users       @relation(name: "UsersToVotedUsers", fields: [userId], references: [id])
    userId       Int
    vote         Votes       @relation(name: "VotedUsersToVotes", fields: [voteId], references: [id])
    voteId       Int
    voteChoice   VoteChoices @relation(name: "VoteChoicesToVotedUsers", fields: [voteChoiceId], references: [id])
    voteChoiceId Int
    createdAt    DateTime    @default(now())
    updatedAt    DateTime    @updatedAt

    @@id([userId, voteChoiceId])
    @@map("voted-users")
}

model VoteLikes {
    isClicked Boolean  @default(false)
    vote      Votes    @relation(name: "VoteLikesToVotes", fields: [voteId], references: [id])
    voteId    Int
    user      Users    @relation(name: "UsersToVoteLikes", fields: [userId], references: [id])
    userId    Int
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@id([userId, voteId])
    @@map("vote-likes")
}

model VoteComments {
    id               Int                @id @default(autoincrement())
    content          String
    user             Users              @relation(name: "UsersToVoteComments", fields: [userId], references: [id])
    userId           Int
    vote             Votes              @relation(name: "VoteCommentsToVotes", fields: [voteId], references: [id])
    voteId           Int
    createdAt        DateTime           @default(now())
    updatedAt        DateTime           @updatedAt
    VoteCommentLikes VoteCommentLikes[] @relation(name: "VoteCommentLikesToVoteComments")

    @@map("vote-comments")
}

model VoteCommentLikes {
    isClicked     Boolean      @default(false)
    voteComment   VoteComments @relation(name: "VoteCommentLikesToVoteComments", fields: [voteCommentId], references: [id])
    voteCommentId Int
    user          Users        @relation(name: "UsersToVoteCommentLikes", fields: [userId], references: [id])
    userId        Int
    createdAt     DateTime     @default(now())
    updatedAt     DateTime     @updatedAt

    @@id([userId, voteCommentId])
    @@map("vote-comments-likes")
}
